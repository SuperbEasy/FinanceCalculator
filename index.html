<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>SIP Calculator</title>
<style>
body{margin:0;font:2vh 'Segoe UI',sans-serif;background:linear-gradient(135deg,#e8f5e9,#fffde7);color:#333}
.container{display:flex;flex-wrap:wrap;min-height:100vh}
.left,.right{flex:1 1 50%;padding:3vh 3vw;box-sizing:border-box}
.left{background:#f1f8e9;border-right:2px solid #c8e6c9}
.right{background:#fff url('https://images.unsplash.com/photo-1567427017947-545c5f8d16f7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=60') no-repeat center/cover}
h1{text-align:center;font-size:3vh;color:#2e7d32}
.input-group{margin:2vh 0}
label{display:block;font-size:2vh;margin-bottom:1vh;color:#33691e}
input[type=number]{width:100%;padding:1vh;font-size:2vh;border:none;background:#eee;border-radius:5px}
.slider{width:100%;margin-top:1vh;-webkit-appearance:none;height:1vh;background:#4CAF50;border-radius:5px}
.slider::-webkit-slider-thumb{-webkit-appearance:none;width:2vh;height:2vh;background:#2e7d32;border-radius:50%;cursor:pointer}
.radio-group{display:flex;gap:2vw}
.tabs{display:flex;border-bottom:2px solid #c8e6c9;margin-bottom:2vh}
.tab{flex:1;text-align:center;padding:1vh;cursor:pointer;font-size:2vh;background:#f1f8e9;color:#2e7d32}
.tab.active{background:#c5e1a5;font-weight:bold}
.tab-content{display:none}
.tab-content.active{display:block}
#results{margin-top:2vh;font-size:2vh;background:#f9fbe7;padding:2vh;border-radius:8px;border:1px solid #cddc39;display:grid;grid-template-columns:1fr 1fr;gap:1vh}
#results p{margin:0}
#results b{text-align:right;display:block}
#results span{text-align:left;display:block}
canvas{width:60%;max-height:30vh;margin:auto;background:rgba(255,255,255,0.8);border-radius:8px;padding:1vh}
table{width:100%;border-collapse:collapse;margin-top:2vh;background:rgba(255,255,255,0.9)}
th,td{border:1px solid #c8e6c9;padding:1vh;text-align:center;font-size:1.8vh}
th{background:#c5e1a5;color:#1b5e20}
</style>
</head>
<body>
<div class="container">
<div class="left">
<h1>SIP Calculator</h1>
<div class="input-group"><label>Currency</label>
<div class="radio-group">
<label><input type="radio" name="currency" value="$"> $</label>
<label><input type="radio" name="currency" value="₹" checked> ₹</label>
<label><input type="radio" name="currency" value="€"> €</label>
</div></div>
<div class="input-group"><label>Monthly Amount</label><input type="number" id="monthlyAmount" min="500" max="100000" step="500" value="500"><input type="range" id="monthlyAmountSlider" min="500" max="100000" step="500" value="500" class="slider"></div>
<div class="input-group"><label>Expected Return Rate (%)</label><input type="number" id="returnRate" min="1" max="50" step="1" value="10"><input type="range" id="returnRateSlider" min="1" max="50" step="1" value="10" class="slider"></div>
<div class="input-group"><label>SIP Duration (Years)</label><input type="number" id="duration" min="1" max="99" step="1" value="10"><input type="range" id="durationSlider" min="1" max="99" step="1" value="10" class="slider"></div>
<div class="input-group"><label>Tax Rate (%)</label><input type="number" id="taxRate" min="10" max="50" step="0.5" value="12.5"><input type="range" id="taxRateSlider" min="10" max="50" step="0.5" value="12.5" class="slider"></div>
</div>
<div class="right">
<div class="tabs"><div class="tab active" data-tab="graphics">Graphics</div><div class="tab" data-tab="tabular">Tabular</div></div>
<div id="graphics" class="tab-content active"><canvas id="pieChart"></canvas></div>
<div id="tabular" class="tab-content"><table id="growthTable"></table></div>
<div id="results"></div>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<script>
const $=id=>document.getElementById(id),sync=(a,b)=>{a.oninput=()=>{b.value=a.value;calc()};b.oninput=()=>{a.value=b.value;calc()}};
['monthlyAmount','returnRate','duration','taxRate'].forEach(x=>sync($(x),$(x+'Slider')));
document.querySelectorAll('input[name=currency]').forEach(r=>r.onchange=calc);
document.querySelectorAll('.tab').forEach(t=>t.onclick=()=>{document.querySelectorAll('.tab,.tab-content').forEach(e=>e.classList.remove('active'));t.classList.add('active');$(t.dataset.tab).classList.add('active')});
let chart;
function calc(){
let c=document.querySelector('input[name=currency]:checked').value,m=+$('monthlyAmount').value,r=+$('returnRate').value/100,d=+$('duration').value,t=+$('taxRate').value/100,n=d*12,i=m*n,u=m*(((Math.pow(1+r/12,n)-1)/(r/12))*(1+r/12)),ret=u-i,tax=ret*t,tot=u-tax;
$('results').innerHTML=`<p><b>Invested:</b><span>${c}  ${i.toFixed(0)}</span></p><p><b>Returns:</b><span>${c}  ${ret.toFixed(0)}</span></p><p><b>Tax:</b><span>${c}  ${tax.toFixed(0)}</span></p><p><b>Total:</b><span>${c}  ${tot.toFixed(0)}</span></p>`;
if(chart)chart.destroy();
chart=new Chart($('pieChart'),{type:'doughnut',data:{labels:['Invested','Returns','Tax'],datasets:[{data:[i,ret,tax],backgroundColor:['#2196F3','#4CAF50','#FFB74D']}]},options:{plugins:{datalabels:{formatter:(v,ctx)=>((v/ctx.chart.data.datasets[0].data.reduce((a,b)=>a+b))*100).toFixed(0)+'%',color:'#000',font:{weight:'bold'}}}}});
let tbl='<tr><th>Year</th><th>Invested</th><th>Value</th></tr>';for(let y=1;y<=d;y++){let v=m*(((Math.pow(1+r/12,y*12)-1)/(r/12))*(1+r/12));tbl+=`<tr><td>${y}</td><td>${c}  ${(m*y*12).toFixed(0)}</td><td>${c}  ${v.toFixed(0)}</td></tr>`}$('growthTable').innerHTML=tbl}
calc();
</script>
</body>
</html>
